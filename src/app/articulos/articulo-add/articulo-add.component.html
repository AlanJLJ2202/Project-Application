<app-header></app-header>
<body>

  <div class="card-titulo">
  <h1 class="titulo">AGREGAR ARTICULO</h1>
  </div>


  <mat-progress-spinner mode="indeterminate" *ngIf="spinner == true">
  </mat-progress-spinner>


  <div class="fondo" *ngIf="spinner == false">

    <div class="form">
      <!--<form (submit)="onSaveArticulo(articuloForm)" #articuloForm="ngForm">-->
        <form [formGroup]="form"(submit)="onSaveArticulo()">
        <div class="separador">
          <div class="textfield">


             <!--<mat-form-field>
               <textarea matInput
               type="text"
               name="nombre"
               [ngModel] = "articulo?.nombre"
               placeholder="Ingresa el nombre del producto"
               required
               #nombre="ngModel"></textarea>

               <mat-error *ngIf="nombre.invalid">El campo es obligatorio</mat-error>
              </mat-form-field>-->

              <mat-form-field>
                <textarea matInput rows="6" formControlName = 'nombre'
                placeholder="Ingresa el nombre del producto"> </textarea>
                <mat-error *ngIf=" form.get('nombre').invalid">por favor ingrese el nombre</mat-error>
              </mat-form-field>


             <!--<mat-form-field>
               <textarea matInput
               (keypress)="numberOnly($event)" type="text"
               name="precio"
               [ngModel] = "articulo?.precio"
               placeholder="Ingresa precio de venta:"
               required
               #precio="ngModel"></textarea>
               <mat-error *ngIf="">El campo es obligatorio</mat-error>
              </mat-form-field>-->

              <mat-form-field>
                <textarea matInput rows="6" formControlName = 'precio'
                placeholder="Ingresa precio de venta"> </textarea>
                <mat-error *ngIf=" form.get('precio').invalid">por favor ingrese el precio</mat-error>
              </mat-form-field>


              <!--<mat-form-field>
                <textarea matInput
                type="text"
                name="descripcion"
                [ngModel] = "articulo?.descripcion"
                placeholder="Ingresa descripción de producto"
                required
                #descripcion="ngModel"></textarea>
                <mat-error *ngIf="">El campo es obligatorio</mat-error>
               </mat-form-field>-->

               <mat-form-field>
                <textarea matInput rows="6" formControlName = 'descripcion'
                placeholder="Ingresa descripción de producto"> </textarea>
                <mat-error *ngIf=" form.get('descripcion').invalid">por favor ingrese la descripcion</mat-error>
              </mat-form-field>

               <!--<mat-form-field>
                <textarea matInput
                (keypress)="numberOnly($event)" type="text"
                name="cantidad"
                [ngModel] = "articulo?.cantidad"
                placeholder="Ingresa cantidad de producto"
                required
                #cantidad="ngModel"></textarea>
                <mat-error *ngIf="">El campo es obligatorio</mat-error>
               </mat-form-field>-->

               <mat-form-field>
                <textarea matInput rows="6" formControlName = 'cantidad'
                placeholder="Ingresa cantidad de producto"> </textarea>
                <mat-error *ngIf=" form.get('cantidad').invalid">por favor ingrese la cantidad</mat-error>
              </mat-form-field>

               <!--<mat-form-field>
                <textarea matInput
                type="text"
                name="categoria"
                ngModel
                placeholder="Ingresa categoria de producto"
                required
                #categoria="ngModel"></textarea>
                <mat-error *ngIf="">El campo es obligatorio</mat-error>
               </mat-form-field>-->

               <mat-form-field>
                <textarea matInput rows="6" formControlName = 'categoria'
                placeholder="Ingresa categoria de producto"> </textarea>
                <mat-error *ngIf=" form.get('categoria').invalid">por favor ingrese la categoria</mat-error>
              </mat-form-field>

                  <!--<mat-label>Seleccione la categoria</mat-label>
                  <select class='caja' [formControl]='selectControl' (change)='test()'>
                    <option value="Ropa">Ropa</option>
                    <option value="Calzado">Calzado</option>
                    <option value="Joyeria">Joyeria</option>
                    <option value="Deporte">Deporte</option>
                    </select>-->




            </div>

            <div class="dropzone">

              <!--
                <input type="file" #fileDropRef id="fileDropRef" (onchange)="onImagePicked($event)" accept="image/*">
              -->

              <button mat-stroked-button type="button" (click)="filePicker.click()">Selecciona Imagen</button>
              <input type="file" #filePicker accept="image/*" (change)="onImagePicked($event)">

              <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid"><!--solo aparezca cuando lo ocupemos-->
                <img [src]="imagePreview" height="300px">
              </div>

              <div *ngIf="imagePreview == ''">
                <h3>Arrastra y suelta tu imagen aqui</h3>
                <h3>ó</h3>
                <label for="fileDropRef">Explorar archivos</label>
              </div>

            </div>



        </div>
         <button
         mat-raised-button
         color="warn"
         type="submit">
          Guardar articulo
         </button>
    </form>

    </div>

  </div>

  <app-footer></app-footer>

</body>
